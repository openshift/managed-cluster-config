groups:
- name: sre-alerts-stuck-volumes
  rules:
  - alert: EbsVolumeStuckAttaching5Min
    expr: min_over_time(ebs_volume_state{ebs_volume_state="attaching"}[5m]) == 1
    labels:
      severity: warn
  - alert: EbsVolumeStuckAttaching10Min
    expr: min_over_time(ebs_volume_state{ebs_volume_state="attaching"}[10m]) == 1
    labels:
      severity: critical
  - alert: EbsVolumeStuckDetaching5Min
    expr: min_over_time(ebs_volume_state{ebs_volume_state="detaching"}[5m]) == 1
    labels:
      severity: warn
  - alert: EbsVolumeStuckDetaching10Min
    expr: min_over_time(ebs_volume_state{ebs_volume_state="detaching"}[10m]) == 1
    labels:
      severity: critical