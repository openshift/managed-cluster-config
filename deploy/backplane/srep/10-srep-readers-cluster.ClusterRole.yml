apiVersion: rbac.authorization.k8s.io/v1
aggregationRule:
  clusterRoleSelectors:
    # aggregate all "view" scope rbac
    - matchExpressions:
        - key: rbac.authorization.k8s.io/aggregate-to-view
          operator: In
          values:
            - "true"
    - matchExpressions:
        - key: managed.openshift.io/aggregate-to-backplane-srep
          operator: In
          values:
            - "true"
kind: ClusterRole
metadata:
  name: backplane-srep-readers-cluster
rules:
# SRE can get, list, and watch 'operators.operators.coreos.com'
# TODO: Temporary permission,
# Remove after https://github.com/operator-framework/operator-lifecycle-manager/pull/2175
- apiGroups:
  - operators.coreos.com
  resources:
  - operators
  verbs:
  - get
  - list
  - watch
