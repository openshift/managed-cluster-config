apiVersion: ocmagent.managed.openshift.io/v1alpha1
kind: ManagedNotification
metadata:
  name: sre-co-down-managed-notifications
  namespace: openshift-ocm-agent-operator
spec:
  notifications:
    - activeBody: |-
        The {{ "{{ $labels.name }}" }} operator may be down or disabled because {{ "${{ $labels.reason }}" }}, and the components it manages may be unavailable or degraded.  Cluster upgrades may not complete. For more information refer to 'oc get -o yaml clusteroperator {{ "{{ $labels.name }}" }}'{{ "{{ with $console_url := \"console_url\" | query }}{{ if ne (len (label \"url\" (first $console_url ) ) ) 0}} or {{ label \"url\" (first $console_url ) }}/settings/cluster/{{ end }}{{ end }}" }}.
      name: ClusterOperatorDownMonitoringUpdatingPrometheusUserWorkloadFailed
      resendWait: 24
      severity: Warning
      summary: "Cluster operator has not been available for 10 minutes."
